<html lang="en">
<head>
    <title>OIDC Login System for CloudSign Products</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/3.0.1/github-markdown.min.css">
    <style>body {
    background-color: white;
}
.markdown-body {
    margin: 0;
    max-width: none;
    padding: 0 24px;
}

@media (max-width: 767px) {
    .markdown-body {
        padding: 0 16px;
    }
}

/* テーブルレイアウトの改善 */
.markdown-body table {
    table-layout: fixed;
    width: 100%;
    max-width: 1200px;
}
.markdown-body table th:nth-child(1) {
    width: 2%;
}
.markdown-body table th:nth-child(2) {
    width: 15%;
}
.markdown-body table th:nth-child(3) {
    width: 30%;
}
.markdown-body table th:nth-child(4) {
    width: 25%;
}
.markdown-body table th:nth-child(5) {
    width: 28%;
}
.markdown-body table td {
    word-wrap: break-word;
    overflow-wrap: break-word;
}
.doc-tooltip {
    text-decoration: none;
    border-bottom: 1px dotted #666;
    cursor: pointer;
    position: relative;
    display: inline-block;
}
.doc-tooltip .tooltip-text {
    visibility: hidden;
    width: 300px;
    background-color: #f8f8f8;
    color: #333;
    text-align: left;
    border-radius: 3px;
    padding: 8px 12px;
    position: absolute;
    z-index: 1;
    bottom: 125%;
    left: 50%;
    margin-left: -150px;
    opacity: 0;
    transition: opacity 0.3s;
    border: 1px solid #ddd;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    font-size: inherit;
    line-height: 1.5;
    white-space: normal;
    word-wrap: break-word;
}
.doc-tooltip:hover .tooltip-text {
    visibility: visible;
    opacity: 1;
}

/* 互換性のためのスタイル */
.markdown-body abbr {
    text-decoration: none;
    border-bottom: 1px dotted #666;
    cursor: help;
    position: relative;
}

/* 1. Profile折りたたみスタイル */
.profile-section {
    border: 1px solid #e1e4e8;
    border-radius: 6px;
    margin-top: 20px;
}

.profile-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 16px;
    background-color: #f6f8fa;
    border-bottom: 1px solid #e1e4e8;
    cursor: pointer;
    font-weight: 600;
}

.profile-header:hover {
    background-color: #f1f3f4;
}

.profile-toggle {
    display: inline-block;
    margin-right: 8px;
    transition: transform 0.2s ease;
}

.profile-toggle.expanded {
    transform: rotate(90deg);
}

.profile-content {
    display: none;
    padding: 16px;
}

.profile-content.visible {
    display: block;
}

/* 2. コピーボタンスタイル */
.copy-button {
    margin-left: 16px;
    padding: 4px 12px;
    border: 1px solid #d0d7de;
    border-radius: 4px;
    background: white;
    color: #586069;
    cursor: pointer;
    font-size: 12px;
    font-weight: normal;
}

.copy-button:hover {
    background: #f3f4f6;
    border-color: #0969da;
}

.copy-button.copied {
    color: #2ea043;
    border-color: #2ea043;
}

/* 3. グラフズームコントロールスタイル */
.zoom-controls {
    position: absolute;
    bottom: 10px;
    left: 10px;
    display: flex;
    flex-direction: row;
    gap: 3px;
    z-index: 100;
}

.zoom-button {
    min-width: 26px;
    height: 26px;
    border: 1px solid #d0d7de;
    border-radius: 3px;
    background: white;
    cursor: pointer;
    font-size: 14px;
    opacity: 0.8;
    padding: 0 4px;
}

.zoom-button:hover {
    opacity: 1;
    background: #f6f8fa;
}

.zoom-button:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

/* 4. 検索ボックススタイル */
.search-container {
    margin: 20px 0;
    position: relative;
}

.search-input {
    width: 100%;
    padding: 8px 12px 8px 36px;
    border: 1px solid #d0d7de;
    border-radius: 4px;
    font-size: 14px;
}

.search-icon {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: #586069;
}

.search-clear {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
    color: #586069;
    display: none;
}

.search-clear.visible {
    display: block;
}

/* テーブル行と検索セルのハイライト */
table tr.highlight {
    background-color: #fff5b1;
}

table tr.hidden {
    display: none;
}

/* 検索結果のセルハイライト - !importantでスタイルを強制適用 */
table td.highlight {
    background-color: #fff5b1 !important; /* 黄色いハイライト */
}

/* レスポンシブ対応の改善 */
@media (max-width: 768px) {
    .zoom-controls {
        left: 5px;
        bottom: 5px;
    }

    .profile-header {
        padding: 8px 12px;
    }
}
#svg-container {
    /* 既存のスタイルも維持 */
    height: auto;
    display: flex;
    justify-content: flex-start; /* SVGが小さい場合に左寄せ */
    align-items: flex-start; /* 上部から表示開始（中央揃えではなく） */
    overflow-x: scroll; /* 常に水平スクロールバーを表示 */
    overflow-y: hidden; /* 縦方向のスクロールは不要 */

    width: 100vw;
    max-width: none; /* 親要素(.markdown-body)のmax-width制限を解除 */
    box-sizing: border-box; /* paddingやborderを幅計算に含める */

    /*
     * .markdown-body の margin: 0 auto による中央揃えを打ち消し、
     * 左端に合わせるためのネガティブマージン。
     * calc(50% - 50vw) は、中央からビューポート幅の半分だけ左にずらす計算。
     */
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw); /* 同様に右マージンも設定（厳密には不要な場合も）*/

    padding-left: 24px;
    padding-right: 0px;
    position: relative; /* 子要素の絶対位置指定のための基準点 */
}
#asd-graph-id, #asd-graph-name {
    position: relative;
    flex-shrink: 0;
}
#asd-graph-id.hidden, #asd-graph-name.hidden {
    display: none;
}
#svg-container svg {
    max-width: none;
    display: block;
    margin: 0;
    transform-origin: bottom left; /* 変形の基準点を左上に設定 */
    transition: transform 0.2s ease; /* ズーム変更時のアニメーション */
}
.asd-view-selector {
    display: flex;
    align-items: center;
    margin-top: 40px;
    margin-bottom: 10px;
}
.asd-view-selector label {
    margin-right: 10px;
}
.asd-view-selector input[type="radio"] {
    margin-right: 5px;
}
.selector-container {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 8px 12px;
    margin-bottom: 10px;
}
.selector-label {
    min-width: 40px;
    margin-right: 10px;
}
.selector-options {
    display: flex;
}
.selector-option {
    margin-right: 15px;
}
input[type="radio"],
input[type="checkbox"] {
    margin-right: 2px;
    vertical-align: middle;
}

/* Sematic Descriptor List */
.descriptor-list {
    max-width: 100%;
    margin: 0;
    padding: 20px;
}
.descriptor-list ul {
    list-style-type: none;
    padding: 0;
    margin: 0;
    width: 100%;
}
.descriptor-list li {
    margin-bottom: 5px;
    display: flex;
    align-items: center;
}
.descriptor-list .indicator {
    width: 16px;
    height: 16px;
    display: inline-block;
    margin-right: 8px;
    border: 1px solid #000;
}
.descriptor-list .semantic {
    background-color: #FFFFFF;
}
.descriptor-list .safe {
    background-color: #00A86B;
    background-image: linear-gradient(45deg, #008000 25%, transparent 25%, transparent 75%, #008000 75%, #008000),
    linear-gradient(45deg, #008000 25%, transparent 25%, transparent 75%, #008000 75%, #008000);
    background-size: 8px 8px;
    background-position: 0 0, 4px 4px;
}
.descriptor-list .unsafe {
    background-color: #FF4136;
    background-image: repeating-linear-gradient(45deg, #FF4136, #FF4136 4px, #FF725C 4px, #FF725C 8px);
}

.descriptor-list .idempotent {
    background-color: #FFDC00;
    background-image: radial-gradient(#FFB700 20%, transparent 20%),
    radial-gradient(#FFB700 20%, transparent 20%);
    background-size: 8px 8px;
    background-position: 0 0, 4px 4px;
}
.descriptor-list .item-name {
    color: #000;
    text-decoration: none;
}

.legend {
    background-color: #ffffff;
    border-radius: 8px;
    padding: 10px;
    display: inline-flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 20px;
}
table .legend {
    background-color: transparent;
    padding: 0;
    margin: 0;
    display: inline-flex;
    align-items: center;
}
.legend-item {
    display: flex;
    align-items: center;
    font-size: 14px;
    color: #333;
}
.legend-icon {
    width: 16px;
    height: 16px;
    border: 1px solid #000;
    margin-right: 8px;
}
.legend .semantic { background-color: #FFFFFF; }
.legend .safe {
    background-color: #00A86B;
    background-image: linear-gradient(45deg, #008000 25%, transparent 25%, transparent 75%, #008000 75%, #008000),
    linear-gradient(45deg, #008000 25%, transparent 25%, transparent 75%, #008000 75%, #008000);
    background-size: 8px 8px;
    background-position: 0 0, 4px 4px;
}
.legend .unsafe {
    background-color: #FF4136;
    background-image: repeating-linear-gradient(45deg, #FF4136, #FF4136 4px, #FF725C 4px, #FF725C 8px);
}
.legend .idempotent {
    background-color: #FFDC00;
    background-image: radial-gradient(#FFB700 20%, transparent 20%),
    radial-gradient(#FFB700 20%, transparent 20%);
    background-size: 8px 8px;
    background-position: 0 0, 4px 4px;
}
.type-indicator-small {
    display: inline-block;
    width: 10px;
    height: 10px;
    margin-right: 4px;
    border: 1px solid #000;
    vertical-align: middle;
}

.type-indicator-small.semantic {
    background-color: #FFFFFF;
}

.type-indicator-small.safe {
    background-color: #00A86B;
    background-image: linear-gradient(45deg, #008000 25%, transparent 25%, transparent 75%, #008000 75%, #008000),
    linear-gradient(45deg, #008000 25%, transparent 25%, transparent 75%, #008000 75%, #008000);
    background-size: 6px 6px;
    background-position: 0 0, 3px 3px;
}

.type-indicator-small.unsafe {
    background-color: #FF4136;
    background-image: repeating-linear-gradient(45deg, #FF4136, #FF4136 3px, #FF725C 3px, #FF725C 6px);
}

.type-indicator-small.idempotent {
    background-color: #FFDC00;
    background-image: radial-gradient(#FFB700 20%, transparent 20%),
    radial-gradient(#FFB700 20%, transparent 20%);
    background-size: 6px 6px;
    background-position: 0 0, 3px 3px;
}
.meta-container {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.meta-container br {
    display: none;
}

.meta-item {
    display: flex;
    align-items: center;
    line-height: normal;
}

.meta-label {
    font-size: 0.85em;
    color: #777;
    width: 45px;
    text-align: right;
    padding-right: 10px;
    flex-shrink: 0;
}

.meta-values {
    display: inline-flex;
    flex-wrap: wrap;
}

.meta-tag {
    display: inline-block;
    padding: 3px 10px;
    border-radius: 4px;
    font-size: 0.8em;
    background-color: #f7f7f7;
    border: 1px solid #e0e0e0;
    color: #3b71ca;
    margin: 0 8px 4px 0;
}

.def-tag {
    background-color: #EAF5FF; /* 薄いブルー */
    border-color: #B8DFFF; /* やや濃いめ */
    color: #0366D6; /* リンク色っぽいブルー */
}

.rt-tag {
    background-color: #FFF5E6; /* 薄いオレンジ */
    border-color: #FFE1B3;
    color: #D97506; /* 濃いオレンジ */
}

.tag-tag {
    background-color: #E6FFED; /* 薄いグリーン */
    border-color: #C6EFC7;
    color: #22863A; /* 濃いグリーン */
}

.doc-tag {
    background-color: #FFFBEA;  /* やや控えめなクリーム色 */
    border-color: #FFE8A1;      /* 柔らかい縁取りの黄色 */
    color: #8A6D1B;             /* 落ち着いた茶系 */
    border: 1px solid #FFE8A1;
    padding: 3px 8px;
    font-size: 0.8em;
    border-radius: 4px;
}
.doc-tag.clickable {
    cursor: pointer;
}

/* テーブルセル内でのメタ情報の折り返し */
.markdown-body table td:nth-child(5) {
    padding-left: 4px !important;
    vertical-align: middle;
}

.zoom-controls, .global-zoom-controls {
    display: inline-block;
    vertical-align: middle;
    position: static !important; /* absoluteを上書き */
}

.zoom-button {
    margin: 0 2px;
}

#svg-container svg {
    transform-origin: bottom left;
}
</style>
<style>
    .center-text {
        text-align: center;
    }
    .hidden {
        display: none;
    }
</style>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/@hpcc-js/wasm@2.21.0/dist/graphviz.umd.js"></script>
    <script src="https://unpkg.com/d3-graphviz@5.6.0/build/d3-graphviz.min.js"></script>
<script>// Applies smooth scroll to links
const ease = (t, b, c, d) => {
    t /= d / 2;
    if (t < 1) return (c / 2) * t * t + b;
    t--;
    return (-c / 2) * (t * (t - 2) - 1) + b;
};

// Smoothly scrolls to the target element
const smoothScrollTo = (targetElement) => {
    const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset;
    const startPosition = window.pageYOffset;
    const distance = targetPosition - startPosition;
    const duration = 1000;
    let startTime = null;

    const animate = (currentTime) => {
        if (!startTime) startTime = currentTime;
        const timeElapsed = currentTime - startTime;
        const run = ease(timeElapsed, startPosition, distance, duration);
        window.scrollTo(0, run);
        if (timeElapsed < duration) requestAnimationFrame(animate);
    };

    requestAnimationFrame(animate);
    history.pushState(null, null, '#' + targetElement.getAttribute('name'));
};

const applySmoothScrollToLinks = (links) => {
    links.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const href = link.getAttribute('href') || link.getAttribute('xlink:href');
            if (!href) {
                console.error("No href found for link:", link);
                return;
            }
            const targetName = href.startsWith('#') ? href.slice(1) : href;
            const targetElement = document.querySelector(`[id="${targetName}"]`);
            if (!targetElement) {
                console.error("Target element not found for link:", href);
                return;
            }
            smoothScrollTo(targetElement);

            // URLを更新
            history.pushState(null, null, href);
        });
    });
};

// Renders the graph and applies smooth scroll to links
const renderGraph = (graphId, dotString) => {
    d3.select(graphId).graphviz()
        .zoom(false)
        .renderDot(dotString).on('end', () => {
            applySmoothScrollToLinks(document.querySelectorAll('svg a[*|href^="#"]'));
    });
};

// Sets up event listeners for tags
const setupTagEventListener = (eventName, titles, color, defaultColor = 'lightgrey', defaultEdgeColor = 'black') => {
    const changeColor = (useDefault) => {
        titles.forEach(title => {
            changeColorByTitle(title, useDefault ? defaultColor : color, useDefault ? defaultEdgeColor : color);
        });
    };

    document.addEventListener(`tagon-${eventName}`, () => changeColor(false));
    document.addEventListener(`tagoff-${eventName}`, () => changeColor(true));
};

// Sets up triggers for tags
const setupTagTrigger = () => {
    const checkboxes = document.querySelectorAll('.tag-trigger-checkbox');
    checkboxes.forEach(checkbox => {
        checkbox.addEventListener('change', function () {
            this.checked ?
                document.dispatchEvent(new CustomEvent('tagon-' + this.getAttribute('data-tag'))) :
                document.dispatchEvent(new CustomEvent('tagoff-' + this.getAttribute('data-tag')));
        });
    });
};

// Changes color of elements by title or class
const changeColorByTitle = (titleOrClass, newNodeColor, newEdgeColor) => {
    const elements = Array.from(document.getElementsByTagName('g'));

    elements.forEach(element => {
        const titleElement = element.getElementsByTagName('title')[0];
        const title = titleElement ? titleElement.textContent : '';

        if (title === titleOrClass || element.classList.contains(titleOrClass)) {
            const polygons = Array.from(element.getElementsByTagName('polygon'));
            const paths = Array.from(element.getElementsByTagName('path'));

            polygons.forEach(polygon => {
                polygon.setAttribute('fill', newNodeColor);
            });

            paths.forEach(path => {
                path.setAttribute('stroke', newEdgeColor);
            });
        }
    });
};

// Sets up mode switch for graph display
const setupModeSwitch = (switchId, graphId, otherGraphId) => {
    document.getElementById(switchId).addEventListener('change', (e) => {
        document.getElementById(graphId).style.display = e.target.checked ? 'block' : 'none';
        document.getElementById(otherGraphId).style.display = e.target.checked ? 'none' : 'block';
    });
};

const setupTagClick = () => {
    document.querySelectorAll('.meta-tag.tag-tag a').forEach(link => {
        link.addEventListener('click', e => {
            e.preventDefault();
            const tagName = link.textContent.trim();
            const checkbox = document.querySelector(`#tag-${tagName}`);
            if (checkbox) {
                checkbox.checked = true;
                checkbox.dispatchEvent(new Event('change'));
            }
        });
    });
}
const setupDocClick = () => {
    // Define constants for better maintainability
    const MAX_LENGTH = 140;
    const TRUNCATE_LENGTH = 70;
    document.querySelectorAll('.doc-tag').forEach(el => {
        const full = el.dataset.full;
        if (!full || full.length <= MAX_LENGTH) return;
        const short = full.slice(0, TRUNCATE_LENGTH) + '...';
        el.innerText = short;
        el.classList.add('expandable');
        el.classList.add('clickable');
        // Make element keyboard accessible
        el.setAttribute('tabindex', '0');
        el.setAttribute('role', 'button');
        el.setAttribute('aria-expanded', 'false');
        el.setAttribute('aria-label', 'Expand to read more');
        const toggleExpansion = () => {
            const expanded = el.classList.toggle('expanded');
            el.innerText = expanded ? full : short;
            el.setAttribute('aria-expanded', expanded ? 'true' : 'false');
            el.setAttribute('aria-label', expanded ? 'Collapse text' : 'Expand to read more');
        };
        el.addEventListener('click', toggleExpansion);
        el.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                toggleExpansion();
            }
        });
    });
};

// Profile折りたたみ機能
function setupProfileCollapse() {
    const profileHeader = document.querySelector('.profile-header');
    const profileContent = document.querySelector('.profile-content');
    const profileToggle = document.querySelector('.profile-toggle');

    if (!profileHeader || !profileContent || !profileToggle) return;

    // 初期状態は折りたたんだ状態
    profileContent.classList.remove('visible');

    profileHeader.addEventListener('click', (e) => {
        // コピーボタンがクリックされた場合は折りたたみ処理をスキップ
        if (e.target.classList.contains('copy-button')) return;

        profileContent.classList.toggle('visible');
        profileToggle.classList.toggle('expanded');
    });
}

// コピー機能
function setupCopyButton() {
    const copyButton = document.querySelector('.copy-button');
    if (!copyButton) return;

    copyButton.addEventListener('click', async (e) => {
        e.stopPropagation(); // 親要素のクリックイベントを防ぐ

        const profileContent = document.querySelector('.profile-content pre code');
        if (!profileContent) return;

        try {
            await navigator.clipboard.writeText(profileContent.textContent);
            copyButton.textContent = 'Copied!';
            copyButton.classList.add('copied');
            setTimeout(() => {
                copyButton.textContent = 'Copy';
                copyButton.classList.remove('copied');
            }, 2000);
        } catch (err) {
            console.error('Failed to copy: ', err);
        }
    });
}

// 検索機能
function setupSearch() {
    // 検索ボックスを追加
    const semanticHeader = document.querySelector('h2:nth-of-type(1)');
    if (!semanticHeader) return;

    const searchContainer = document.createElement('div');
    searchContainer.className = 'search-container';
    searchContainer.innerHTML = `
            <svg class="search-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7.333 12.667A5.333 5.333 0 1 0 7.333 2a5.333 5.333 0 0 0 0 10.667zm5.334 1L10 11" 
                      stroke="currentColor" stroke-width="1.33" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <input type="text" class="search-input" placeholder="Search semantic descriptors...">
            <span class="search-clear">×</span>
        `;

    // h2の下にテーブルがあるので、その間に挿入
    const table = semanticHeader.nextElementSibling;
    if (table && table.tagName === 'TABLE') {
        semanticHeader.after(searchContainer);
    }

    const searchInput = searchContainer.querySelector('.search-input');
    const searchClear = searchContainer.querySelector('.search-clear');
    const tableRows = table.querySelectorAll('tbody tr');

    searchInput.addEventListener('input', (e) => {
        const query = e.target.value.toLowerCase();
        searchClear.classList.toggle('visible', query.length > 0);

        tableRows.forEach(row => {
            // すべての行のテキストを検索対象とする
            const text = row.textContent.toLowerCase();
            const isVisible = query === '' || text.includes(query);
            row.classList.toggle('hidden', !isVisible);

            // マッチしたセルのみにhighlightクラスを追加
            if (query !== '' && isVisible) {
                // すべてのセルを確認
                const cells = row.querySelectorAll('td');
                cells.forEach(cell => {
                    const cellText = cell.textContent.toLowerCase();
                    if (cellText.includes(query)) {
                        cell.classList.add('highlight');
                    } else {
                        cell.classList.remove('highlight');
                    }
                });
            } else {
                // ハイライトをクリア
                const cells = row.querySelectorAll('td');
                cells.forEach(cell => {
                    cell.classList.remove('highlight');
                });
            }
        });
    });

    searchClear.addEventListener('click', () => {
        searchInput.value = '';
        searchClear.classList.remove('visible');
        tableRows.forEach(row => {
            row.classList.remove('hidden');

            // すべてのセルからハイライトを削除
            const cells = row.querySelectorAll('td');
            cells.forEach(cell => {
                cell.classList.remove('highlight');
            });
        });
    });
}

// Profile折りたたみ機能のためのDOM構造を作成
function enhanceProfileSection() {
    const profileHeader = document.querySelector('h2:last-of-type');
    const profilePre = profileHeader.nextElementSibling;

    if (profileHeader && profilePre && profilePre.tagName === 'PRE') {
        // プロファイルセクションの構造を変更
        const section = document.createElement('div');
        section.className = 'profile-section';

        const header = document.createElement('div');
        header.className = 'profile-header';
        header.innerHTML = `
                <div>
                    <span class="profile-toggle">▶</span>
                    <span>Profile</span>
                </div>
                <button class="copy-button">Copy</button>
            `;

        const content = document.createElement('div');
        content.className = 'profile-content';
        content.appendChild(profilePre.cloneNode(true));

        section.appendChild(header);
        section.appendChild(content);

        // 元のh2とpreを置き換える
        profileHeader.replaceWith(section);
        profilePre.remove();

        // 折りたたみとコピー機能をセットアップ
        setupProfileCollapse();
        setupCopyButton();
    }
}

</script>
<script>// グラフズーム機能のセットアップ（+/-ボタンのみ）
let currentScale = 1;
const minScale = 0.1;
const maxScale = 3;

function setupGraphZoom() {
    console.log("Setting up zoom controls...");
    const zoomControlsContainer = document.querySelector('#zoom-controls-container');
    if (!zoomControlsContainer) {
        console.log('Zoom controls container not found');
        return;
    }

    // グローバルなズームコントロールを追加
    const zoomControls = document.createElement('div');
    zoomControls.className = 'zoom-controls global-zoom-controls';
    zoomControls.innerHTML = `
        <button class="zoom-button" data-zoom="in">+</button>
        <button class="zoom-button" data-zoom="out">−</button>
        <button class="zoom-button" data-zoom="reset">1:1</button>
    `;
    zoomControlsContainer.appendChild(zoomControls);
    
    // SVG要素の監視と初期設定
    setupSvgObservers();
    
    // ズームイン
    zoomControls.querySelector('[data-zoom="in"]').addEventListener('click', () => {
        currentScale = Math.min(currentScale * 1.2, maxScale);
        updateAllSvgZoom(zoomControls);
    });

    // ズームアウト
    zoomControls.querySelector('[data-zoom="out"]').addEventListener('click', () => {
        currentScale = Math.max(currentScale / 1.2, minScale);
        updateAllSvgZoom(zoomControls);
    });

    // リセット
    zoomControls.querySelector('[data-zoom="reset"]').addEventListener('click', () => {
        currentScale = 1;
        updateAllSvgZoom(zoomControls);
    });
}

function setupSvgObservers() {
    const containers = ['#asd-graph-id', '#asd-graph-name'];
    
    containers.forEach(containerId => {
        const container = document.querySelector(containerId);
        if (!container) {
            console.log(`Container ${containerId} not found`);
            return;
        }
        
        // SVGを探す
        let svg = container.querySelector('svg');
        
        // SVGが見つからない場合は監視して再試行
        if (!svg) {
            console.log(`SVG not found in ${containerId}, setting up observer`);
            // SVG要素が追加されるのを監視
            const observer = new MutationObserver((mutations, obs) => {
                mutations.forEach(mutation => {
                    if (mutation.addedNodes.length) {
                        svg = container.querySelector('svg');
                        if (svg) {
                            console.log('SVG found in ' + containerId + ' after waiting');
                            obs.disconnect(); // 監視を停止
                            // 初期ズームを適用
                            svg.style.transform = `scale(${currentScale})`;
                        }
                    }
                });
            });
            
            observer.observe(container, { childList: true, subtree: true });
        } else {
            console.log(`SVG found immediately ${containerId}`);
            // 初期ズームを適用
            svg.style.transform = `scale(${currentScale})`;
        }
    });
}

function updateAllSvgZoom(zoomControls) {
    // 両方のコンテナのSVGを取得して同じスケールを適用
    const containers = ['#asd-graph-id', '#asd-graph-name'];
    
    containers.forEach(containerId => {
        const container = document.querySelector(containerId);
        if (!container) return;
        
        const svg = container.querySelector('svg');
        if (svg) {
            // transform-originはCSSで設定済み（top left）
            svg.style.transform = `scale(${currentScale})`;
        }
    });
    
    // ボタン状態の更新
    const zoomIn = zoomControls.querySelector('[data-zoom="in"]');
    const zoomOut = zoomControls.querySelector('[data-zoom="out"]');
    
    zoomIn.disabled = currentScale >= maxScale;
    zoomOut.disabled = currentScale <= minScale;
}</script>
</head>
<body>
    <div class="markdown-body">
        <h1>OIDC Login System for CloudSign Products</h1>

<p>新規プロダクトでのログインをOIDCにするシステム。Ory/Hydraを使用したOAuth2.0/OIDC認証基盤により、CloudSign製品群と新規プロダクトの統合認証を実現する。</p>

<!-- Container for the ASDs -->

<div id="svg-container">
    <div id="asd-graph-id" class="center-text"></div>
    <div id="asd-graph-name" class="center-text hidden"></div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', async function() {
        try {
            await Promise.all([
                    renderGraph("#asd-graph-id", 'digraph application_state_diagram {  graph [    labelloc="t";    fontname="Helvetica"  ];  node [shape = box, style = "bold,filled" fillcolor="lightgray", margin="0.3,0.1"];    AuthenticatedState [margin=0.1, label="AuthenticatedState", shape=box, URL="#AuthenticatedState" target="_parent"]    AuthenticationInProgress [margin=0.1, label="AuthenticationInProgress", shape=box, URL="#AuthenticationInProgress" target="_parent"]    AuthorizationCallback [margin=0.1, label="AuthorizationCallback", shape=box, URL="#AuthorizationCallback" target="_parent"]    AuthorizationRequest [margin=0.1, label="AuthorizationRequest", shape=box, URL="#AuthorizationRequest" target="_parent"]    Central [margin=0.1, label="Central", shape=box, URL="#Central" target="_parent"]    CloudSignJp [margin=0.1, label="CloudSignJp", shape=box, URL="#CloudSignJp" target="_parent"]    CloudSignNimbus [margin=0.1, label="CloudSignNimbus", shape=box, URL="#CloudSignNimbus" target="_parent"]    CloudSignRevel [margin=0.1, label="CloudSignRevel", shape=box, URL="#CloudSignRevel" target="_parent"]    ConsentForm [margin=0.1, label="ConsentForm", shape=box, URL="#ConsentForm" target="_parent"]    ErrorState [margin=0.1, label="ErrorState", shape=box, URL="#ErrorState" target="_parent"]    LoginForm [margin=0.1, label="LoginForm", shape=box, URL="#LoginForm" target="_parent"]    NewProductA [margin=0.1, label="NewProductA", shape=box, URL="#NewProductA" target="_parent"]    NewProductABFF [margin=0.1, label="NewProductABFF", shape=box, URL="#NewProductABFF" target="_parent"]    NewProductAInternal [margin=0.1, label="NewProductAInternal", shape=box, URL="#NewProductAInternal" target="_parent"]    TokenExchange [margin=0.1, label="TokenExchange", shape=box, URL="#TokenExchange" target="_parent"]    AuthenticatedState -> AuthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#doRefreshToken" tooltip="トークン更新 (unsafe)"><font color="#FF4136">■</font> doRefreshToken</td></tr></table>> URL="#doRefreshToken" target="_parent" fontsize=13 class="doRefreshToken" penwidth=1.5];    AuthenticatedState -> Central [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goCentral" tooltip="Centralへ遷移 (safe)"><font color="#00A86B">■</font> goCentral</td></tr></table>> URL="#goCentral" target="_parent" fontsize=13 class="goCentral" penwidth=1.5];    AuthenticatedState -> CloudSignJp [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goCloudSignJp" tooltip="cloudsign.jpへ遷移 (safe)"><font color="#00A86B">■</font> goCloudSignJp</td></tr></table>> URL="#goCloudSignJp" target="_parent" fontsize=13 class="goCloudSignJp" penwidth=1.5];    AuthenticatedState -> CloudSignNimbus [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goCloudSignNimbus" tooltip="CloudSign Nimbusへ遷移 (safe)"><font color="#00A86B">■</font> goCloudSignNimbus</td></tr></table>> URL="#goCloudSignNimbus" target="_parent" fontsize=13 class="goCloudSignNimbus" penwidth=1.5];    AuthenticatedState -> CloudSignRevel [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goCloudSignRevel" tooltip="CloudSign Revelへ遷移 (safe)"><font color="#00A86B">■</font> goCloudSignRevel</td></tr></table>> URL="#goCloudSignRevel" target="_parent" fontsize=13 class="goCloudSignRevel" penwidth=1.5];    AuthenticatedState -> NewProductA [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goNewProductA" tooltip="NewProductAへ遷移 (safe)"><font color="#00A86B">■</font> goNewProductA</td></tr></table>> URL="#goNewProductA" target="_parent" fontsize=13 class="goNewProductA" penwidth=1.5];    AuthenticatedState -> UnauthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#doLogout" tooltip="ログアウト (idempotent)"><font color="#FFDC00">■</font> doLogout</td></tr></table>> URL="#doLogout" target="_parent" fontsize=13 class="doLogout" penwidth=1.5];    AuthenticationInProgress -> AuthorizationCallback [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goAuthorizationCallback" tooltip="認可コールバックへ遷移 (safe)"><font color="#00A86B">■</font> goAuthorizationCallback</td></tr></table>> URL="#goAuthorizationCallback" target="_parent" fontsize=13 class="goAuthorizationCallback" penwidth=1.5];    AuthenticationInProgress -> LoginForm [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goLoginForm" tooltip="ログインフォームへ遷移 (safe)"><font color="#00A86B">■</font> goLoginForm</td></tr></table>> URL="#goLoginForm" target="_parent" fontsize=13 class="goLoginForm" penwidth=1.5];    AuthorizationCallback -> TokenExchange [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#doExchangeToken" tooltip="トークン交換実行 (unsafe)"><font color="#FF4136">■</font> doExchangeToken</td></tr></table>> URL="#doExchangeToken" target="_parent" fontsize=13 class="doExchangeToken" penwidth=1.5];    AuthorizationRequest -> ConsentForm [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goConsentForm" tooltip="同意確認フォームへ遷移 (safe)"><font color="#00A86B">■</font> goConsentForm</td></tr></table>> URL="#goConsentForm" target="_parent" fontsize=13 class="goConsentForm" penwidth=1.5];    AuthorizationRequest -> LoginForm [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goLoginForm" tooltip="ログインフォームへ遷移 (safe)"><font color="#00A86B">■</font> goLoginForm</td></tr></table>> URL="#goLoginForm" target="_parent" fontsize=13 class="goLoginForm" penwidth=1.5];    Central -> AuthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goAuthenticatedState" tooltip="認証済み状態へ遷移 (safe)"><font color="#00A86B">■</font> goAuthenticatedState</td></tr></table>> URL="#goAuthenticatedState" target="_parent" fontsize=13 class="goAuthenticatedState" penwidth=1.5];    CloudSignJp -> AuthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goAuthenticatedState" tooltip="認証済み状態へ遷移 (safe)"><font color="#00A86B">■</font> goAuthenticatedState</td></tr></table>> URL="#goAuthenticatedState" target="_parent" fontsize=13 class="goAuthenticatedState" penwidth=1.5];    CloudSignNimbus -> AuthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goAuthenticatedState" tooltip="認証済み状態へ遷移 (safe)"><font color="#00A86B">■</font> goAuthenticatedState</td></tr></table>> URL="#goAuthenticatedState" target="_parent" fontsize=13 class="goAuthenticatedState" penwidth=1.5];    CloudSignRevel -> AuthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goAuthenticatedState" tooltip="認証済み状態へ遷移 (safe)"><font color="#00A86B">■</font> goAuthenticatedState</td></tr></table>> URL="#goAuthenticatedState" target="_parent" fontsize=13 class="goAuthenticatedState" penwidth=1.5];    ConsentForm -> AuthorizationCallback [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#doGrantConsent" tooltip="同意を許可 (unsafe)"><font color="#FF4136">■</font> doGrantConsent</td></tr></table>> URL="#doGrantConsent" target="_parent" fontsize=13 class="doGrantConsent" penwidth=1.5];    ConsentForm -> ErrorState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#doDenyConsent" tooltip="同意を拒否 (unsafe)"><font color="#FF4136">■</font> doDenyConsent</td></tr></table>> URL="#doDenyConsent" target="_parent" fontsize=13 class="doDenyConsent" penwidth=1.5];    ErrorState -> LoginForm [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goLoginForm" tooltip="ログインフォームへ遷移 (safe)"><font color="#00A86B">■</font> goLoginForm</td></tr></table>> URL="#goLoginForm" target="_parent" fontsize=13 class="goLoginForm" penwidth=1.5];    ErrorState -> UnauthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goUnauthenticatedState" tooltip="未認証状態へ戻る (safe)"><font color="#00A86B">■</font> goUnauthenticatedState</td></tr></table>> URL="#goUnauthenticatedState" target="_parent" fontsize=13 class="goUnauthenticatedState" penwidth=1.5];    LoginForm -> AuthenticationInProgress [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#doLogin" tooltip="ログイン実行 (unsafe)"><font color="#FF4136">■</font> doLogin</td></tr></table>> URL="#doLogin" target="_parent" fontsize=13 class="doLogin" penwidth=1.5];    LoginForm -> UnauthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goUnauthenticatedState" tooltip="未認証状態へ戻る (safe)"><font color="#00A86B">■</font> goUnauthenticatedState</td></tr></table>> URL="#goUnauthenticatedState" target="_parent" fontsize=13 class="goUnauthenticatedState" penwidth=1.5];    NewProductA -> AuthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goAuthenticatedState" tooltip="認証済み状態へ遷移 (safe)"><font color="#00A86B">■</font> goAuthenticatedState</td></tr></table>> URL="#goAuthenticatedState" target="_parent" fontsize=13 class="goAuthenticatedState" penwidth=1.5];    NewProductA -> NewProductABFF [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goNewProductABFF" tooltip="NewProductA BFFへ遷移 (safe)"><font color="#00A86B">■</font> goNewProductABFF</td></tr></table>> URL="#goNewProductABFF" target="_parent" fontsize=13 class="goNewProductABFF" penwidth=1.5];    NewProductABFF -> NewProductAInternal [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goNewProductAInternal" tooltip="NewProductA Internalへ遷移 (safe)"><font color="#00A86B">■</font> goNewProductAInternal</td></tr></table>> URL="#goNewProductAInternal" target="_parent" fontsize=13 class="goNewProductAInternal" penwidth=1.5];    TokenExchange -> AuthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goAuthenticatedState" tooltip="認証済み状態へ遷移 (safe)"><font color="#00A86B">■</font> goAuthenticatedState</td></tr></table>> URL="#goAuthenticatedState" target="_parent" fontsize=13 class="goAuthenticatedState" penwidth=1.5];    UnauthenticatedState -> AuthorizationRequest [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goAuthorizationRequest" tooltip="認可リクエストへ遷移 (safe)"><font color="#00A86B">■</font> goAuthorizationRequest</td></tr></table>> URL="#goAuthorizationRequest" target="_parent" fontsize=13 class="goAuthorizationRequest" penwidth=1.5];    AuthenticatedState [label="AuthenticatedState" URL="#AuthenticatedState" target="_parent"]    Central [label="Central" URL="#Central" target="_parent"]    CloudSignJp [label="CloudSignJp" URL="#CloudSignJp" target="_parent"]    CloudSignNimbus [label="CloudSignNimbus" URL="#CloudSignNimbus" target="_parent"]    CloudSignRevel [label="CloudSignRevel" URL="#CloudSignRevel" target="_parent"]    NewProductA [label="NewProductA" URL="#NewProductA" target="_parent"]    UnauthenticatedState [label="UnauthenticatedState" URL="#UnauthenticatedState" target="_parent"]    AuthenticationInProgress [label="AuthenticationInProgress" URL="#AuthenticationInProgress" target="_parent"]    AuthorizationCallback [label="AuthorizationCallback" URL="#AuthorizationCallback" target="_parent"]    LoginForm [label="LoginForm" URL="#LoginForm" target="_parent"]    TokenExchange [label="TokenExchange" URL="#TokenExchange" target="_parent"]    AuthorizationRequest [label="AuthorizationRequest" URL="#AuthorizationRequest" target="_parent"]    ConsentForm [label="ConsentForm" URL="#ConsentForm" target="_parent"]    ErrorState [label="ErrorState" URL="#ErrorState" target="_parent"]    NewProductABFF [label="NewProductABFF" URL="#NewProductABFF" target="_parent"]    NewProductAInternal [label="NewProductAInternal" URL="#NewProductAInternal" target="_parent"]}'),
                    renderGraph("#asd-graph-name", 'digraph application_state_diagram {  graph [    labelloc="t";    fontname="Helvetica"  ];  node [shape = box, style = "bold,filled" fillcolor="lightgray", margin="0.3,0.1"];    AuthenticatedState [margin=0.1, label="認証済み状態", shape=box, URL="#AuthenticatedState" target="_parent"]    AuthenticationInProgress [margin=0.1, label="認証処理中", shape=box, URL="#AuthenticationInProgress" target="_parent"]    AuthorizationCallback [margin=0.1, label="認可コールバック", shape=box, URL="#AuthorizationCallback" target="_parent"]    AuthorizationRequest [margin=0.1, label="認可リクエスト", shape=box, URL="#AuthorizationRequest" target="_parent"]    Central [margin=0.1, label="Central", shape=box, URL="#Central" target="_parent"]    CloudSignJp [margin=0.1, label="cloudsign.jp", shape=box, URL="#CloudSignJp" target="_parent"]    CloudSignNimbus [margin=0.1, label="CloudSign (Nimbus)", shape=box, URL="#CloudSignNimbus" target="_parent"]    CloudSignRevel [margin=0.1, label="CloudSign (Revel)", shape=box, URL="#CloudSignRevel" target="_parent"]    ConsentForm [margin=0.1, label="同意確認フォーム", shape=box, URL="#ConsentForm" target="_parent"]    ErrorState [margin=0.1, label="エラー状態", shape=box, URL="#ErrorState" target="_parent"]    LoginForm [margin=0.1, label="ログインフォーム", shape=box, URL="#LoginForm" target="_parent"]    NewProductA [margin=0.1, label="NewProductA", shape=box, URL="#NewProductA" target="_parent"]    NewProductABFF [margin=0.1, label="NewProductA BFF", shape=box, URL="#NewProductABFF" target="_parent"]    NewProductAInternal [margin=0.1, label="NewProductA Internal", shape=box, URL="#NewProductAInternal" target="_parent"]    TokenExchange [margin=0.1, label="トークン交換", shape=box, URL="#TokenExchange" target="_parent"]    AuthenticatedState -> AuthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#doRefreshToken" tooltip="トークン更新 (unsafe)"><font color="#FF4136">■</font> トークン更新</td></tr></table>> URL="#doRefreshToken" target="_parent" fontsize=13 class="doRefreshToken" penwidth=1.5];    AuthenticatedState -> Central [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goCentral" tooltip="Centralへ遷移 (safe)"><font color="#00A86B">■</font> Centralへ遷移</td></tr></table>> URL="#goCentral" target="_parent" fontsize=13 class="goCentral" penwidth=1.5];    AuthenticatedState -> CloudSignJp [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goCloudSignJp" tooltip="cloudsign.jpへ遷移 (safe)"><font color="#00A86B">■</font> cloudsign.jpへ遷移</td></tr></table>> URL="#goCloudSignJp" target="_parent" fontsize=13 class="goCloudSignJp" penwidth=1.5];    AuthenticatedState -> CloudSignNimbus [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goCloudSignNimbus" tooltip="CloudSign Nimbusへ遷移 (safe)"><font color="#00A86B">■</font> CloudSign&nbsp;Nimbusへ遷移</td></tr></table>> URL="#goCloudSignNimbus" target="_parent" fontsize=13 class="goCloudSignNimbus" penwidth=1.5];    AuthenticatedState -> CloudSignRevel [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goCloudSignRevel" tooltip="CloudSign Revelへ遷移 (safe)"><font color="#00A86B">■</font> CloudSign&nbsp;Revelへ遷移</td></tr></table>> URL="#goCloudSignRevel" target="_parent" fontsize=13 class="goCloudSignRevel" penwidth=1.5];    AuthenticatedState -> NewProductA [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goNewProductA" tooltip="NewProductAへ遷移 (safe)"><font color="#00A86B">■</font> NewProductAへ遷移</td></tr></table>> URL="#goNewProductA" target="_parent" fontsize=13 class="goNewProductA" penwidth=1.5];    AuthenticatedState -> UnauthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#doLogout" tooltip="ログアウト (idempotent)"><font color="#FFDC00">■</font> ログアウト</td></tr></table>> URL="#doLogout" target="_parent" fontsize=13 class="doLogout" penwidth=1.5];    AuthenticationInProgress -> AuthorizationCallback [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goAuthorizationCallback" tooltip="認可コールバックへ遷移 (safe)"><font color="#00A86B">■</font> 認可コールバックへ遷移</td></tr></table>> URL="#goAuthorizationCallback" target="_parent" fontsize=13 class="goAuthorizationCallback" penwidth=1.5];    AuthenticationInProgress -> LoginForm [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goLoginForm" tooltip="ログインフォームへ遷移 (safe)"><font color="#00A86B">■</font> ログインフォームへ遷移</td></tr></table>> URL="#goLoginForm" target="_parent" fontsize=13 class="goLoginForm" penwidth=1.5];    AuthorizationCallback -> TokenExchange [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#doExchangeToken" tooltip="トークン交換実行 (unsafe)"><font color="#FF4136">■</font> トークン交換実行</td></tr></table>> URL="#doExchangeToken" target="_parent" fontsize=13 class="doExchangeToken" penwidth=1.5];    AuthorizationRequest -> ConsentForm [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goConsentForm" tooltip="同意確認フォームへ遷移 (safe)"><font color="#00A86B">■</font> 同意確認フォームへ遷移</td></tr></table>> URL="#goConsentForm" target="_parent" fontsize=13 class="goConsentForm" penwidth=1.5];    AuthorizationRequest -> LoginForm [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goLoginForm" tooltip="ログインフォームへ遷移 (safe)"><font color="#00A86B">■</font> ログインフォームへ遷移</td></tr></table>> URL="#goLoginForm" target="_parent" fontsize=13 class="goLoginForm" penwidth=1.5];    Central -> AuthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goAuthenticatedState" tooltip="認証済み状態へ遷移 (safe)"><font color="#00A86B">■</font> 認証済み状態へ遷移</td></tr></table>> URL="#goAuthenticatedState" target="_parent" fontsize=13 class="goAuthenticatedState" penwidth=1.5];    CloudSignJp -> AuthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goAuthenticatedState" tooltip="認証済み状態へ遷移 (safe)"><font color="#00A86B">■</font> 認証済み状態へ遷移</td></tr></table>> URL="#goAuthenticatedState" target="_parent" fontsize=13 class="goAuthenticatedState" penwidth=1.5];    CloudSignNimbus -> AuthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goAuthenticatedState" tooltip="認証済み状態へ遷移 (safe)"><font color="#00A86B">■</font> 認証済み状態へ遷移</td></tr></table>> URL="#goAuthenticatedState" target="_parent" fontsize=13 class="goAuthenticatedState" penwidth=1.5];    CloudSignRevel -> AuthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goAuthenticatedState" tooltip="認証済み状態へ遷移 (safe)"><font color="#00A86B">■</font> 認証済み状態へ遷移</td></tr></table>> URL="#goAuthenticatedState" target="_parent" fontsize=13 class="goAuthenticatedState" penwidth=1.5];    ConsentForm -> AuthorizationCallback [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#doGrantConsent" tooltip="同意を許可 (unsafe)"><font color="#FF4136">■</font> 同意を許可</td></tr></table>> URL="#doGrantConsent" target="_parent" fontsize=13 class="doGrantConsent" penwidth=1.5];    ConsentForm -> ErrorState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#doDenyConsent" tooltip="同意を拒否 (unsafe)"><font color="#FF4136">■</font> 同意を拒否</td></tr></table>> URL="#doDenyConsent" target="_parent" fontsize=13 class="doDenyConsent" penwidth=1.5];    ErrorState -> LoginForm [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goLoginForm" tooltip="ログインフォームへ遷移 (safe)"><font color="#00A86B">■</font> ログインフォームへ遷移</td></tr></table>> URL="#goLoginForm" target="_parent" fontsize=13 class="goLoginForm" penwidth=1.5];    ErrorState -> UnauthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goUnauthenticatedState" tooltip="未認証状態へ戻る (safe)"><font color="#00A86B">■</font> 未認証状態へ戻る</td></tr></table>> URL="#goUnauthenticatedState" target="_parent" fontsize=13 class="goUnauthenticatedState" penwidth=1.5];    LoginForm -> AuthenticationInProgress [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#doLogin" tooltip="ログイン実行 (unsafe)"><font color="#FF4136">■</font> ログイン実行</td></tr></table>> URL="#doLogin" target="_parent" fontsize=13 class="doLogin" penwidth=1.5];    LoginForm -> UnauthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goUnauthenticatedState" tooltip="未認証状態へ戻る (safe)"><font color="#00A86B">■</font> 未認証状態へ戻る</td></tr></table>> URL="#goUnauthenticatedState" target="_parent" fontsize=13 class="goUnauthenticatedState" penwidth=1.5];    NewProductA -> AuthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goAuthenticatedState" tooltip="認証済み状態へ遷移 (safe)"><font color="#00A86B">■</font> 認証済み状態へ遷移</td></tr></table>> URL="#goAuthenticatedState" target="_parent" fontsize=13 class="goAuthenticatedState" penwidth=1.5];    NewProductA -> NewProductABFF [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goNewProductABFF" tooltip="NewProductA BFFへ遷移 (safe)"><font color="#00A86B">■</font> NewProductA&nbsp;BFFへ遷移</td></tr></table>> URL="#goNewProductABFF" target="_parent" fontsize=13 class="goNewProductABFF" penwidth=1.5];    NewProductABFF -> NewProductAInternal [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goNewProductAInternal" tooltip="NewProductA Internalへ遷移 (safe)"><font color="#00A86B">■</font> NewProductA&nbsp;Internalへ遷移</td></tr></table>> URL="#goNewProductAInternal" target="_parent" fontsize=13 class="goNewProductAInternal" penwidth=1.5];    TokenExchange -> AuthenticatedState [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goAuthenticatedState" tooltip="認証済み状態へ遷移 (safe)"><font color="#00A86B">■</font> 認証済み状態へ遷移</td></tr></table>> URL="#goAuthenticatedState" target="_parent" fontsize=13 class="goAuthenticatedState" penwidth=1.5];    UnauthenticatedState -> AuthorizationRequest [label=<<table border="0" cellborder="0" cellspacing="0" cellpadding="0"><tr><td valign="middle" href="#goAuthorizationRequest" tooltip="認可リクエストへ遷移 (safe)"><font color="#00A86B">■</font> 認可リクエストへ遷移</td></tr></table>> URL="#goAuthorizationRequest" target="_parent" fontsize=13 class="goAuthorizationRequest" penwidth=1.5];    AuthenticatedState [label="認証済み状態" URL="#AuthenticatedState" target="_parent"]    Central [label="Central" URL="#Central" target="_parent"]    CloudSignJp [label="cloudsign.jp" URL="#CloudSignJp" target="_parent"]    CloudSignNimbus [label="CloudSign (Nimbus)" URL="#CloudSignNimbus" target="_parent"]    CloudSignRevel [label="CloudSign (Revel)" URL="#CloudSignRevel" target="_parent"]    NewProductA [label="NewProductA" URL="#NewProductA" target="_parent"]    UnauthenticatedState [label="未認証状態" URL="#UnauthenticatedState" target="_parent"]    AuthenticationInProgress [label="認証処理中" URL="#AuthenticationInProgress" target="_parent"]    AuthorizationCallback [label="認可コールバック" URL="#AuthorizationCallback" target="_parent"]    LoginForm [label="ログインフォーム" URL="#LoginForm" target="_parent"]    TokenExchange [label="トークン交換" URL="#TokenExchange" target="_parent"]    AuthorizationRequest [label="認可リクエスト" URL="#AuthorizationRequest" target="_parent"]    ConsentForm [label="同意確認フォーム" URL="#ConsentForm" target="_parent"]    ErrorState [label="エラー状態" URL="#ErrorState" target="_parent"]    NewProductABFF [label="NewProductA BFF" URL="#NewProductABFF" target="_parent"]    NewProductAInternal [label="NewProductA Internal" URL="#NewProductAInternal" target="_parent"]}')
            ]);
            setupTagTrigger();
            setupModeSwitch('asd-show-id', 'asd-graph-id', 'asd-graph-name');
            setupModeSwitch('asd-show-name', 'asd-graph-name', 'asd-graph-id');
            applySmoothScrollToLinks(document.querySelectorAll('a[href^="#"]'));
            setupTagClick();
            setupDocClick();
            setupTagEventListener('auth', ['AuthenticationInProgress', 'ConsentForm', 'LoginForm', 'doDenyConsent', 'doGrantConsent', 'doLogin', 'doLogout', 'goAuthorizationRequest', 'goConsentForm', 'goLoginForm'], 'LightGreen'); setupTagEventListener('flow-auth', ['AuthenticatedState', 'AuthenticationInProgress', 'AuthorizationCallback', 'AuthorizationRequest', 'ConsentForm', 'ErrorState', 'LoginForm', 'TokenExchange', 'UnauthenticatedState', 'doDenyConsent', 'doExchangeToken', 'doGrantConsent', 'doLogin', 'doLogout', 'doRefreshToken', 'goAuthenticatedState', 'goAuthorizationCallback', 'goAuthorizationRequest', 'goConsentForm', 'goLoginForm', 'goUnauthenticatedState'], 'SkyBlue'); setupTagEventListener('product', ['Central', 'CloudSignJp', 'CloudSignNimbus', 'CloudSignRevel', 'NewProductA', 'NewProductABFF', 'NewProductAInternal', 'goCentral', 'goCloudSignJp', 'goCloudSignNimbus', 'goCloudSignRevel', 'goNewProductA', 'goNewProductABFF', 'goNewProductAInternal'], 'LightCoral'); 

            // Initialize new features
            enhanceProfileSection();
            setupSearch();
            setupGraphZoom();
        } catch (error) {
               console.error("Error in main process:", error);
        }});
</script>

<div id="zoom-controls-container" style="margin-bottom: 10px;"></div>

<div class="asd-view-selector">
    <span class="selector-label">View:</span>
    <input type="radio" id="asd-show-id" checked name="asd-view-selector" value="id">
    <label for="asd-show-id">id</label>
    <input type="radio" id="asd-show-name" name="asd-view-selector" value="name">
    <label for="asd-show-name">title</label>
</div>

<div class="selector-container"><span class="selector-label">Tags:</span>
<span class="selector-option"><input type="checkbox" id="tag-auth" class="tag-trigger-checkbox" data-tag="auth" name="tag-auth"><label for="tag-auth"> auth</label></span>
<span class="selector-option"><input type="checkbox" id="tag-flow-auth" class="tag-trigger-checkbox" data-tag="flow-auth" name="tag-flow-auth"><label for="tag-flow-auth"> flow-auth</label></span>
<span class="selector-option"><input type="checkbox" id="tag-product" class="tag-trigger-checkbox" data-tag="product" name="tag-product"><label for="tag-product"> product</label></span></div>

<div class="legend">
    <div class="legend-item" title="A state element (e.g.  HTML.SPAN, HTML.INPUT, etc.).">
        <span class="legend-icon semantic"></span>
        Semantic
    </div>
    <div class="legend-item" title="A hypermedia control that triggers a safe, idempotent state
      transition (e.g.  HTTP.GET or HTTP.HEAD).">
        <span class="legend-icon safe"></span>
        Safe
    </div>
    <div class="legend-item" title="A hypermedia control that triggers an unsafe, non-
      idempotent state transition (e.g.  HTTP.POST).">
        <span class="legend-icon unsafe"></span>
        Unsafe
    </div>
    <div class="legend-item" title="A hypermedia control that triggers an unsafe,
      idempotent state transition (e.g.  HTTP.PUT or HTTP.DELETE).">
        <span class="legend-icon idempotent"></span>
        Idempotent
    </div>
</div>

<h2>Semantic Descriptors</h2>

<table>
<thead>
<tr>
  <th align="center">Type</th>
  <th align="left">ID</th>
  <th align="left">Title</th>
  <th align="left">Contained</th>
  <th align="left">Extra Info</th>
</tr>
</thead>
<tbody>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="accessToken"></a><a href="#accessToken">accessToken</a></td>
  <td align="left"><span style="white-space: normal;">Access Token</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">リソースアクセス用のアクセストークン</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="AuthenticatedState"></a><a href="#AuthenticatedState">AuthenticatedState</a></td>
  <td align="left"><span style="white-space: normal;">認証済み状態</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#userId">userId</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#accessToken">accessToken</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#idToken">idToken</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goCloudSignNimbus">goCloudSignNimbus</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goCloudSignRevel">goCloudSignRevel</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goCloudSignJp">goCloudSignJp</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goNewProductA">goNewProductA</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goCentral">goCentral</a><br><span class="type-indicator-small unsafe" title="Unsafe"></span><a href="#doRefreshToken">doRefreshToken</a><br><span class="type-indicator-small idempotent" title="Idempotent"></span><a href="#doLogout">doLogout</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">ユーザーが正常に認証され、アクセストークンを保持している状態。各プロダクトへアクセス可能。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="AuthenticationInProgress"></a><a href="#AuthenticationInProgress">AuthenticationInProgress</a></td>
  <td align="left"><span style="white-space: normal;">認証処理中</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#username">username</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#sessionId">sessionId</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goAuthorizationCallback">goAuthorizationCallback</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goLoginForm">goLoginForm</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-auth">auth</a></span> <span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">認証サーバーがユーザーのクレデンシャルを検証している状態。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="AuthorizationCallback"></a><a href="#AuthorizationCallback">AuthorizationCallback</a></td>
  <td align="left"><span style="white-space: normal;">認可コールバック</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#authorizationCode">authorizationCode</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#state">state</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#redirectUri">redirectUri</a><br><span class="type-indicator-small unsafe" title="Unsafe"></span><a href="#doExchangeToken">doExchangeToken</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">認証成功後、認可コードとともにクライアントアプリケーションへリダイレクトされる。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="authorizationCode"></a><a href="#authorizationCode">authorizationCode</a></td>
  <td align="left"><span style="white-space: normal;">Authorization Code</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">OAuth2.0認可コード</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="AuthorizationRequest"></a><a href="#AuthorizationRequest">AuthorizationRequest</a></td>
  <td align="left"><span style="white-space: normal;">認可リクエスト</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#clientId">clientId</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#redirectUri">redirectUri</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#state">state</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#scope">scope</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goLoginForm">goLoginForm</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goConsentForm">goConsentForm</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">OIDCプロバイダー（Ory/Hydra）への認可リクエスト。クライアントアプリケーションからauth.cloudsign.jpへリダイレクトされる。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="Central"></a><a href="#Central">Central</a></td>
  <td align="left"><span style="white-space: normal;">Central</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#userId">userId</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goAuthenticatedState">goAuthenticatedState</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-product">product</a></span></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">中央管理システム。CloudSign DBへアクセスする。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="clientId"></a><a href="#clientId">clientId</a></td>
  <td align="left"><span style="white-space: normal;">Client ID</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">OAuthクライアント識別子</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="CloudSignJp"></a><a href="#CloudSignJp">CloudSignJp</a></td>
  <td align="left"><span style="white-space: normal;">cloudsign.jp</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#userId">userId</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#productName">productName</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goAuthenticatedState">goAuthenticatedState</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-product">product</a></span></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">cloudsign.jpのメインサイト。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="CloudSignNimbus"></a><a href="#CloudSignNimbus">CloudSignNimbus</a></td>
  <td align="left"><span style="white-space: normal;">CloudSign (Nimbus)</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#userId">userId</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#productName">productName</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goAuthenticatedState">goAuthenticatedState</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-product">product</a></span></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">CloudSign Nimbusプロダクトのホーム画面。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="CloudSignRevel"></a><a href="#CloudSignRevel">CloudSignRevel</a></td>
  <td align="left"><span style="white-space: normal;">CloudSign (Revel)</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#userId">userId</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#productName">productName</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#sessionId">sessionId</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goAuthenticatedState">goAuthenticatedState</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-product">product</a></span></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">CloudSign Revelプロダクトのホーム画面。認証基盤との連携やリダイレクト処理を行う。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="ConsentForm"></a><a href="#ConsentForm">ConsentForm</a></td>
  <td align="left"><span style="white-space: normal;">同意確認フォーム</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#clientId">clientId</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#scope">scope</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#consentRequired">consentRequired</a><br><span class="type-indicator-small unsafe" title="Unsafe"></span><a href="#doGrantConsent">doGrantConsent</a><br><span class="type-indicator-small unsafe" title="Unsafe"></span><a href="#doDenyConsent">doDenyConsent</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-auth">auth</a></span> <span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">アプリケーションへの権限付与に対するユーザーの同意を確認するフォーム。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="consentRequired"></a><a href="#consentRequired">consentRequired</a></td>
  <td align="left"><span style="white-space: normal;">Consent Required</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">ユーザー同意が必要かどうか</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon unsafe"></span></span></td>
  <td align="left"><a id="doDenyConsent"></a><a href="#doDenyConsent">doDenyConsent</a></td>
  <td align="left"><span style="white-space: normal;">同意を拒否</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#clientId">clientId</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-auth">auth</a></span> <span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#ErrorState">ErrorState</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">アプリケーションへの権限付与を拒否する。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon unsafe"></span></span></td>
  <td align="left"><a id="doExchangeToken"></a><a href="#doExchangeToken">doExchangeToken</a></td>
  <td align="left"><span style="white-space: normal;">トークン交換実行</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#authorizationCode">authorizationCode</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#clientId">clientId</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#redirectUri">redirectUri</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#TokenExchange">TokenExchange</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">認可コードをアクセストークンとIDトークンに交換する。Ory/Hydraのトークンエンドポイントを呼び出す。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon unsafe"></span></span></td>
  <td align="left"><a id="doGrantConsent"></a><a href="#doGrantConsent">doGrantConsent</a></td>
  <td align="left"><span style="white-space: normal;">同意を許可</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#clientId">clientId</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#scope">scope</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-auth">auth</a></span> <span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#AuthorizationCallback">AuthorizationCallback</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">アプリケーションへの権限付与に同意し、認可フローを続行する。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon unsafe"></span></span></td>
  <td align="left"><a id="doLogin"></a><a href="#doLogin">doLogin</a></td>
  <td align="left"><span style="white-space: normal;">ログイン実行</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#username">username</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#password">password</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#sessionId">sessionId</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-auth">auth</a></span> <span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#AuthenticationInProgress">AuthenticationInProgress</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">ユーザー名とパスワードを使用してログインを実行する。認証サーバーがクレデンシャルを検証する。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon idempotent"></span></span></td>
  <td align="left"><a id="doLogout"></a><a href="#doLogout">doLogout</a></td>
  <td align="left"><span style="white-space: normal;">ログアウト</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#sessionId">sessionId</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#idToken">idToken</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-auth">auth</a></span> <span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#UnauthenticatedState">UnauthenticatedState</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">現在の認証セッションを終了し、トークンを無効化する。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon unsafe"></span></span></td>
  <td align="left"><a id="doRefreshToken"></a><a href="#doRefreshToken">doRefreshToken</a></td>
  <td align="left"><span style="white-space: normal;">トークン更新</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#refreshToken">refreshToken</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#clientId">clientId</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#AuthenticatedState">AuthenticatedState</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">リフレッシュトークンを使用してアクセストークンを更新する。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="errorMessage"></a><a href="#errorMessage">errorMessage</a></td>
  <td align="left"><span style="white-space: normal;">Error Message</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">エラーメッセージ</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="ErrorState"></a><a href="#ErrorState">ErrorState</a></td>
  <td align="left"><span style="white-space: normal;">エラー状態</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#errorMessage">errorMessage</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goLoginForm">goLoginForm</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goUnauthenticatedState">goUnauthenticatedState</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">認証フローでエラーが発生した状態。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon safe"></span></span></td>
  <td align="left"><a id="goAuthenticatedState"></a><a href="#goAuthenticatedState">goAuthenticatedState</a></td>
  <td align="left"><span style="white-space: normal;">認証済み状態へ遷移</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#AuthenticatedState">AuthenticatedState</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">トークン取得後、認証済み状態へ遷移する。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon safe"></span></span></td>
  <td align="left"><a id="goAuthorizationCallback"></a><a href="#goAuthorizationCallback">goAuthorizationCallback</a></td>
  <td align="left"><span style="white-space: normal;">認可コールバックへ遷移</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#authorizationCode">authorizationCode</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#state">state</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#AuthorizationCallback">AuthorizationCallback</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">認証成功後、認可コードとともにクライアントへリダイレクトする。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon safe"></span></span></td>
  <td align="left"><a id="goAuthorizationRequest"></a><a href="#goAuthorizationRequest">goAuthorizationRequest</a></td>
  <td align="left"><span style="white-space: normal;">認可リクエストへ遷移</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#clientId">clientId</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#redirectUri">redirectUri</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#state">state</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#scope">scope</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-auth">auth</a></span> <span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#AuthorizationRequest">AuthorizationRequest</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">保護されたリソースへのアクセス時に、OIDCプロバイダーへ認可リクエストを送信する。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon safe"></span></span></td>
  <td align="left"><a id="goCentral"></a><a href="#goCentral">goCentral</a></td>
  <td align="left"><span style="white-space: normal;">Centralへ遷移</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-product">product</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#Central">Central</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">中央管理システムへアクセスする。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon safe"></span></span></td>
  <td align="left"><a id="goCloudSignJp"></a><a href="#goCloudSignJp">goCloudSignJp</a></td>
  <td align="left"><span style="white-space: normal;">cloudsign.jpへ遷移</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-product">product</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#CloudSignJp">CloudSignJp</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">cloudsign.jpへアクセスする。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon safe"></span></span></td>
  <td align="left"><a id="goCloudSignNimbus"></a><a href="#goCloudSignNimbus">goCloudSignNimbus</a></td>
  <td align="left"><span style="white-space: normal;">CloudSign Nimbusへ遷移</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-product">product</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#CloudSignNimbus">CloudSignNimbus</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">CloudSign Nimbusプロダクトへアクセスする。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon safe"></span></span></td>
  <td align="left"><a id="goCloudSignRevel"></a><a href="#goCloudSignRevel">goCloudSignRevel</a></td>
  <td align="left"><span style="white-space: normal;">CloudSign Revelへ遷移</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-product">product</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#CloudSignRevel">CloudSignRevel</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">CloudSign Revelプロダクトへアクセスする。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon safe"></span></span></td>
  <td align="left"><a id="goConsentForm"></a><a href="#goConsentForm">goConsentForm</a></td>
  <td align="left"><span style="white-space: normal;">同意確認フォームへ遷移</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#clientId">clientId</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#scope">scope</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-auth">auth</a></span> <span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#ConsentForm">ConsentForm</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">ユーザーの同意が必要な場合、同意確認フォームへ遷移する。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon safe"></span></span></td>
  <td align="left"><a id="goLoginForm"></a><a href="#goLoginForm">goLoginForm</a></td>
  <td align="left"><span style="white-space: normal;">ログインフォームへ遷移</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#sessionId">sessionId</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-auth">auth</a></span> <span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#LoginForm">LoginForm</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">認証セッションが存在しない場合、ログインフォームへリダイレクトする。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon safe"></span></span></td>
  <td align="left"><a id="goNewProductA"></a><a href="#goNewProductA">goNewProductA</a></td>
  <td align="left"><span style="white-space: normal;">NewProductAへ遷移</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-product">product</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#NewProductA">NewProductA</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">新規プロダクトAへアクセスする。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon safe"></span></span></td>
  <td align="left"><a id="goNewProductABFF"></a><a href="#goNewProductABFF">goNewProductABFF</a></td>
  <td align="left"><span style="white-space: normal;">NewProductA BFFへ遷移</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-product">product</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#NewProductABFF">NewProductABFF</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">NewProductAのBFFへアクセスする。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon safe"></span></span></td>
  <td align="left"><a id="goNewProductAInternal"></a><a href="#goNewProductAInternal">goNewProductAInternal</a></td>
  <td align="left"><span style="white-space: normal;">NewProductA Internalへ遷移</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-product">product</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#NewProductAInternal">NewProductAInternal</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">NewProductAの内部APIへアクセスする。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon safe"></span></span></td>
  <td align="left"><a id="goUnauthenticatedState"></a><a href="#goUnauthenticatedState">goUnauthenticatedState</a></td>
  <td align="left"><span style="white-space: normal;">未認証状態へ戻る</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">rt:</span><span class="meta-tag rt-tag"><a href="#UnauthenticatedState">UnauthenticatedState</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">ログインキャンセルやエラー時に未認証状態へ戻る。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="idToken"></a><a href="#idToken">idToken</a></td>
  <td align="left"><span style="white-space: normal;">ID Token</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">OIDC ID Token（ユーザー情報を含む）</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="LoginForm"></a><a href="#LoginForm">LoginForm</a></td>
  <td align="left"><span style="white-space: normal;">ログインフォーム</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#username">username</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#password">password</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#sessionId">sessionId</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goUnauthenticatedState">goUnauthenticatedState</a><br><span class="type-indicator-small unsafe" title="Unsafe"></span><a href="#doLogin">doLogin</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-auth">auth</a></span> <span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">認証サーバーが提供するログインフォーム。ユーザー名とパスワードの入力を受け付ける。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="NewProductA"></a><a href="#NewProductA">NewProductA</a></td>
  <td align="left"><span style="white-space: normal;">NewProductA</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#userId">userId</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#productName">productName</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goNewProductABFF">goNewProductABFF</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goAuthenticatedState">goAuthenticatedState</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-product">product</a></span></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">新規プロダクトAのメイン画面。BFFとinternalサービスを経由してデータにアクセスする。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="NewProductABFF"></a><a href="#NewProductABFF">NewProductABFF</a></td>
  <td align="left"><span style="white-space: normal;">NewProductA BFF</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#userId">userId</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#accessToken">accessToken</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goNewProductAInternal">goNewProductAInternal</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-product">product</a></span></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">NewProductA用のBackend For Frontend。クライアントとバックエンドサービスの仲介を行う。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="NewProductAInternal"></a><a href="#NewProductAInternal">NewProductAInternal</a></td>
  <td align="left"><span style="white-space: normal;">NewProductA Internal</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#userId">userId</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#accessToken">accessToken</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-product">product</a></span></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">NewProductAの内部APIサービス。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="password"></a><a href="#password">password</a></td>
  <td align="left"><span style="white-space: normal;">Password</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">ユーザーのパスワード</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="productName"></a><a href="#productName">productName</a></td>
  <td align="left"><span style="white-space: normal;">Product Name</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">製品名（CloudSign, NewProductA等）</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="redirectUri"></a><a href="#redirectUri">redirectUri</a></td>
  <td align="left"><span style="white-space: normal;">Redirect URI</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">def:</span><span class="meta-tag def-tag"><a href="https://schema.org/url" target="_blank">schema.org/url</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">認証後のリダイレクト先URI</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="refreshToken"></a><a href="#refreshToken">refreshToken</a></td>
  <td align="left"><span style="white-space: normal;">Refresh Token</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">アクセストークン更新用のリフレッシュトークン</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="scope"></a><a href="#scope">scope</a></td>
  <td align="left"><span style="white-space: normal;">Scope</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">要求するアクセス権限のスコープ</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="sessionId"></a><a href="#sessionId">sessionId</a></td>
  <td align="left"><span style="white-space: normal;">Session ID</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">認証セッションの識別子</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="state"></a><a href="#state">state</a></td>
  <td align="left"><span style="white-space: normal;">State Parameter</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">CSRF対策用のステートパラメータ</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="TokenExchange"></a><a href="#TokenExchange">TokenExchange</a></td>
  <td align="left"><span style="white-space: normal;">トークン交換</span></td>
  <td align="left"><span class="type-indicator-small semantic" title="Semantic"></span><a href="#authorizationCode">authorizationCode</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#clientId">clientId</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#accessToken">accessToken</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#idToken">idToken</a><br><span class="type-indicator-small semantic" title="Semantic"></span><a href="#refreshToken">refreshToken</a><br><span class="type-indicator-small safe" title="Safe"></span><a href="#goAuthenticatedState">goAuthenticatedState</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">認可コードをアクセストークンとIDトークンに交換する処理。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="UnauthenticatedState"></a><a href="#UnauthenticatedState">UnauthenticatedState</a></td>
  <td align="left"><span style="white-space: normal;">未認証状態</span></td>
  <td align="left"><span class="type-indicator-small safe" title="Safe"></span><a href="#goAuthorizationRequest">goAuthorizationRequest</a></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">tag:</span><span class="meta-values"><span class="meta-tag tag-tag"><a href="#tag-flow-auth">flow-auth</a></span></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">ユーザーが未認証の初期状態。保護されたリソースへのアクセスを試みると認証フローが開始される。</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="userId"></a><a href="#userId">userId</a></td>
  <td align="left"><span style="white-space: normal;">User ID</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">def:</span><span class="meta-tag def-tag"><a href="https://schema.org/identifier" target="_blank">schema.org/identifier</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">ユーザーの一意な識別子</span></span></span></span></td>
</tr>
<tr>
  <td align="center"><span class="legend"><span class="legend-icon semantic"></span></span></td>
  <td align="left"><a id="username"></a><a href="#username">username</a></td>
  <td align="left"><span style="white-space: normal;">Username</span></td>
  <td align="left"></td>
  <td align="left"><span style="white-space: normal;"><span class="meta-container"><span class="meta-item"><span class="meta-label">def:</span><span class="meta-tag def-tag"><a href="https://schema.org/name" target="_blank">schema.org/name</a></span></span><span class="meta-item"><span class="meta-label">doc:</span><span class="meta-tag doc-tag">ログイン用のユーザー名またはメールアドレス</span></span></span></span></td>
</tr>
</tbody>
</table>

<hr />

<h2>Profile</h2>

<pre><code>{
  &quot;$schema&quot;: &quot;https://alps-io.github.io/schemas/alps.json&quot;,
  &quot;alps&quot;: {
    &quot;title&quot;: &quot;OIDC Login System for CloudSign Products&quot;,
    &quot;doc&quot;: {&quot;value&quot;: &quot;新規プロダクトでのログインをOIDCにするシステム。Ory/Hydraを使用したOAuth2.0/OIDC認証基盤により、CloudSign製品群と新規プロダクトの統合認証を実現する。&quot;},
    &quot;descriptor&quot;: [
      {&quot;id&quot;: &quot;userId&quot;, &quot;title&quot;: &quot;User ID&quot;, &quot;def&quot;: &quot;https://schema.org/identifier&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;ユーザーの一意な識別子&quot;}},
      {&quot;id&quot;: &quot;username&quot;, &quot;title&quot;: &quot;Username&quot;, &quot;def&quot;: &quot;https://schema.org/name&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;ログイン用のユーザー名またはメールアドレス&quot;}},
      {&quot;id&quot;: &quot;password&quot;, &quot;title&quot;: &quot;Password&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;ユーザーのパスワード&quot;}},
      {&quot;id&quot;: &quot;authorizationCode&quot;, &quot;title&quot;: &quot;Authorization Code&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;OAuth2.0認可コード&quot;}},
      {&quot;id&quot;: &quot;accessToken&quot;, &quot;title&quot;: &quot;Access Token&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;リソースアクセス用のアクセストークン&quot;}},
      {&quot;id&quot;: &quot;idToken&quot;, &quot;title&quot;: &quot;ID Token&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;OIDC ID Token（ユーザー情報を含む）&quot;}},
      {&quot;id&quot;: &quot;refreshToken&quot;, &quot;title&quot;: &quot;Refresh Token&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;アクセストークン更新用のリフレッシュトークン&quot;}},
      {&quot;id&quot;: &quot;clientId&quot;, &quot;title&quot;: &quot;Client ID&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;OAuthクライアント識別子&quot;}},
      {&quot;id&quot;: &quot;redirectUri&quot;, &quot;title&quot;: &quot;Redirect URI&quot;, &quot;def&quot;: &quot;https://schema.org/url&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;認証後のリダイレクト先URI&quot;}},
      {&quot;id&quot;: &quot;sessionId&quot;, &quot;title&quot;: &quot;Session ID&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;認証セッションの識別子&quot;}},
      {&quot;id&quot;: &quot;state&quot;, &quot;title&quot;: &quot;State Parameter&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;CSRF対策用のステートパラメータ&quot;}},
      {&quot;id&quot;: &quot;scope&quot;, &quot;title&quot;: &quot;Scope&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;要求するアクセス権限のスコープ&quot;}},
      {&quot;id&quot;: &quot;errorMessage&quot;, &quot;title&quot;: &quot;Error Message&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;エラーメッセージ&quot;}},
      {&quot;id&quot;: &quot;productName&quot;, &quot;title&quot;: &quot;Product Name&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;製品名（CloudSign, NewProductA等）&quot;}},
      {&quot;id&quot;: &quot;consentRequired&quot;, &quot;title&quot;: &quot;Consent Required&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;ユーザー同意が必要かどうか&quot;}},

      {&quot;id&quot;: &quot;UnauthenticatedState&quot;, &quot;title&quot;: &quot;未認証状態&quot;, &quot;tag&quot;: &quot;flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;ユーザーが未認証の初期状態。保護されたリソースへのアクセスを試みると認証フローが開始される。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#goAuthorizationRequest&quot;}
      ]},

      {&quot;id&quot;: &quot;AuthorizationRequest&quot;, &quot;title&quot;: &quot;認可リクエスト&quot;, &quot;tag&quot;: &quot;flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;OIDCプロバイダー（Ory/Hydra）への認可リクエスト。クライアントアプリケーションからauth.cloudsign.jpへリダイレクトされる。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#clientId&quot;},
        {&quot;href&quot;: &quot;#redirectUri&quot;},
        {&quot;href&quot;: &quot;#state&quot;},
        {&quot;href&quot;: &quot;#scope&quot;},
        {&quot;href&quot;: &quot;#goLoginForm&quot;},
        {&quot;href&quot;: &quot;#goConsentForm&quot;}
      ]},

      {&quot;id&quot;: &quot;LoginForm&quot;, &quot;title&quot;: &quot;ログインフォーム&quot;, &quot;tag&quot;: &quot;auth flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;認証サーバーが提供するログインフォーム。ユーザー名とパスワードの入力を受け付ける。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#username&quot;},
        {&quot;href&quot;: &quot;#password&quot;},
        {&quot;href&quot;: &quot;#sessionId&quot;},
        {&quot;href&quot;: &quot;#doLogin&quot;},
        {&quot;href&quot;: &quot;#goUnauthenticatedState&quot;}
      ]},

      {&quot;id&quot;: &quot;ConsentForm&quot;, &quot;title&quot;: &quot;同意確認フォーム&quot;, &quot;tag&quot;: &quot;auth flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;アプリケーションへの権限付与に対するユーザーの同意を確認するフォーム。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#clientId&quot;},
        {&quot;href&quot;: &quot;#scope&quot;},
        {&quot;href&quot;: &quot;#consentRequired&quot;},
        {&quot;href&quot;: &quot;#doGrantConsent&quot;},
        {&quot;href&quot;: &quot;#doDenyConsent&quot;}
      ]},

      {&quot;id&quot;: &quot;AuthenticationInProgress&quot;, &quot;title&quot;: &quot;認証処理中&quot;, &quot;tag&quot;: &quot;auth flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;認証サーバーがユーザーのクレデンシャルを検証している状態。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#username&quot;},
        {&quot;href&quot;: &quot;#sessionId&quot;},
        {&quot;href&quot;: &quot;#goAuthorizationCallback&quot;},
        {&quot;href&quot;: &quot;#goLoginForm&quot;}
      ]},

      {&quot;id&quot;: &quot;AuthorizationCallback&quot;, &quot;title&quot;: &quot;認可コールバック&quot;, &quot;tag&quot;: &quot;flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;認証成功後、認可コードとともにクライアントアプリケーションへリダイレクトされる。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#authorizationCode&quot;},
        {&quot;href&quot;: &quot;#state&quot;},
        {&quot;href&quot;: &quot;#redirectUri&quot;},
        {&quot;href&quot;: &quot;#doExchangeToken&quot;}
      ]},

      {&quot;id&quot;: &quot;TokenExchange&quot;, &quot;title&quot;: &quot;トークン交換&quot;, &quot;tag&quot;: &quot;flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;認可コードをアクセストークンとIDトークンに交換する処理。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#authorizationCode&quot;},
        {&quot;href&quot;: &quot;#clientId&quot;},
        {&quot;href&quot;: &quot;#accessToken&quot;},
        {&quot;href&quot;: &quot;#idToken&quot;},
        {&quot;href&quot;: &quot;#refreshToken&quot;},
        {&quot;href&quot;: &quot;#goAuthenticatedState&quot;}
      ]},

      {&quot;id&quot;: &quot;AuthenticatedState&quot;, &quot;title&quot;: &quot;認証済み状態&quot;, &quot;tag&quot;: &quot;flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;ユーザーが正常に認証され、アクセストークンを保持している状態。各プロダクトへアクセス可能。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#userId&quot;},
        {&quot;href&quot;: &quot;#accessToken&quot;},
        {&quot;href&quot;: &quot;#idToken&quot;},
        {&quot;href&quot;: &quot;#goCloudSignNimbus&quot;},
        {&quot;href&quot;: &quot;#goCloudSignRevel&quot;},
        {&quot;href&quot;: &quot;#goCloudSignJp&quot;},
        {&quot;href&quot;: &quot;#goNewProductA&quot;},
        {&quot;href&quot;: &quot;#goCentral&quot;},
        {&quot;href&quot;: &quot;#doLogout&quot;},
        {&quot;href&quot;: &quot;#doRefreshToken&quot;}
      ]},

      {&quot;id&quot;: &quot;CloudSignNimbus&quot;, &quot;title&quot;: &quot;CloudSign (Nimbus)&quot;, &quot;tag&quot;: &quot;product&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;CloudSign Nimbusプロダクトのホーム画面。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#userId&quot;},
        {&quot;href&quot;: &quot;#productName&quot;},
        {&quot;href&quot;: &quot;#goAuthenticatedState&quot;}
      ]},

      {&quot;id&quot;: &quot;CloudSignRevel&quot;, &quot;title&quot;: &quot;CloudSign (Revel)&quot;, &quot;tag&quot;: &quot;product&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;CloudSign Revelプロダクトのホーム画面。認証基盤との連携やリダイレクト処理を行う。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#userId&quot;},
        {&quot;href&quot;: &quot;#productName&quot;},
        {&quot;href&quot;: &quot;#sessionId&quot;},
        {&quot;href&quot;: &quot;#goAuthenticatedState&quot;}
      ]},

      {&quot;id&quot;: &quot;CloudSignJp&quot;, &quot;title&quot;: &quot;cloudsign.jp&quot;, &quot;tag&quot;: &quot;product&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;cloudsign.jpのメインサイト。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#userId&quot;},
        {&quot;href&quot;: &quot;#productName&quot;},
        {&quot;href&quot;: &quot;#goAuthenticatedState&quot;}
      ]},

      {&quot;id&quot;: &quot;NewProductA&quot;, &quot;title&quot;: &quot;NewProductA&quot;, &quot;tag&quot;: &quot;product&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;新規プロダクトAのメイン画面。BFFとinternalサービスを経由してデータにアクセスする。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#userId&quot;},
        {&quot;href&quot;: &quot;#productName&quot;},
        {&quot;href&quot;: &quot;#goNewProductABFF&quot;},
        {&quot;href&quot;: &quot;#goAuthenticatedState&quot;}
      ]},

      {&quot;id&quot;: &quot;NewProductABFF&quot;, &quot;title&quot;: &quot;NewProductA BFF&quot;, &quot;tag&quot;: &quot;product&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;NewProductA用のBackend For Frontend。クライアントとバックエンドサービスの仲介を行う。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#userId&quot;},
        {&quot;href&quot;: &quot;#accessToken&quot;},
        {&quot;href&quot;: &quot;#goNewProductAInternal&quot;}
      ]},

      {&quot;id&quot;: &quot;NewProductAInternal&quot;, &quot;title&quot;: &quot;NewProductA Internal&quot;, &quot;tag&quot;: &quot;product&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;NewProductAの内部APIサービス。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#userId&quot;},
        {&quot;href&quot;: &quot;#accessToken&quot;}
      ]},

      {&quot;id&quot;: &quot;Central&quot;, &quot;title&quot;: &quot;Central&quot;, &quot;tag&quot;: &quot;product&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;中央管理システム。CloudSign DBへアクセスする。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#userId&quot;},
        {&quot;href&quot;: &quot;#goAuthenticatedState&quot;}
      ]},

      {&quot;id&quot;: &quot;ErrorState&quot;, &quot;title&quot;: &quot;エラー状態&quot;, &quot;tag&quot;: &quot;flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;認証フローでエラーが発生した状態。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#errorMessage&quot;},
        {&quot;href&quot;: &quot;#goLoginForm&quot;},
        {&quot;href&quot;: &quot;#goUnauthenticatedState&quot;}
      ]},

      {&quot;id&quot;: &quot;goAuthorizationRequest&quot;, &quot;type&quot;: &quot;safe&quot;, &quot;rt&quot;: &quot;#AuthorizationRequest&quot;, &quot;title&quot;: &quot;認可リクエストへ遷移&quot;, &quot;tag&quot;: &quot;auth flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;保護されたリソースへのアクセス時に、OIDCプロバイダーへ認可リクエストを送信する。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#clientId&quot;},
        {&quot;href&quot;: &quot;#redirectUri&quot;},
        {&quot;href&quot;: &quot;#state&quot;},
        {&quot;href&quot;: &quot;#scope&quot;}
      ]},

      {&quot;id&quot;: &quot;goLoginForm&quot;, &quot;type&quot;: &quot;safe&quot;, &quot;rt&quot;: &quot;#LoginForm&quot;, &quot;title&quot;: &quot;ログインフォームへ遷移&quot;, &quot;tag&quot;: &quot;auth flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;認証セッションが存在しない場合、ログインフォームへリダイレクトする。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#sessionId&quot;}
      ]},

      {&quot;id&quot;: &quot;goConsentForm&quot;, &quot;type&quot;: &quot;safe&quot;, &quot;rt&quot;: &quot;#ConsentForm&quot;, &quot;title&quot;: &quot;同意確認フォームへ遷移&quot;, &quot;tag&quot;: &quot;auth flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;ユーザーの同意が必要な場合、同意確認フォームへ遷移する。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#clientId&quot;},
        {&quot;href&quot;: &quot;#scope&quot;}
      ]},

      {&quot;id&quot;: &quot;goAuthorizationCallback&quot;, &quot;type&quot;: &quot;safe&quot;, &quot;rt&quot;: &quot;#AuthorizationCallback&quot;, &quot;title&quot;: &quot;認可コールバックへ遷移&quot;, &quot;tag&quot;: &quot;flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;認証成功後、認可コードとともにクライアントへリダイレクトする。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#authorizationCode&quot;},
        {&quot;href&quot;: &quot;#state&quot;}
      ]},

      {&quot;id&quot;: &quot;goAuthenticatedState&quot;, &quot;type&quot;: &quot;safe&quot;, &quot;rt&quot;: &quot;#AuthenticatedState&quot;, &quot;title&quot;: &quot;認証済み状態へ遷移&quot;, &quot;tag&quot;: &quot;flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;トークン取得後、認証済み状態へ遷移する。&quot;}},

      {&quot;id&quot;: &quot;goUnauthenticatedState&quot;, &quot;type&quot;: &quot;safe&quot;, &quot;rt&quot;: &quot;#UnauthenticatedState&quot;, &quot;title&quot;: &quot;未認証状態へ戻る&quot;, &quot;tag&quot;: &quot;flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;ログインキャンセルやエラー時に未認証状態へ戻る。&quot;}},

      {&quot;id&quot;: &quot;goCloudSignNimbus&quot;, &quot;type&quot;: &quot;safe&quot;, &quot;rt&quot;: &quot;#CloudSignNimbus&quot;, &quot;title&quot;: &quot;CloudSign Nimbusへ遷移&quot;, &quot;tag&quot;: &quot;product&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;CloudSign Nimbusプロダクトへアクセスする。&quot;}},

      {&quot;id&quot;: &quot;goCloudSignRevel&quot;, &quot;type&quot;: &quot;safe&quot;, &quot;rt&quot;: &quot;#CloudSignRevel&quot;, &quot;title&quot;: &quot;CloudSign Revelへ遷移&quot;, &quot;tag&quot;: &quot;product&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;CloudSign Revelプロダクトへアクセスする。&quot;}},

      {&quot;id&quot;: &quot;goCloudSignJp&quot;, &quot;type&quot;: &quot;safe&quot;, &quot;rt&quot;: &quot;#CloudSignJp&quot;, &quot;title&quot;: &quot;cloudsign.jpへ遷移&quot;, &quot;tag&quot;: &quot;product&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;cloudsign.jpへアクセスする。&quot;}},

      {&quot;id&quot;: &quot;goNewProductA&quot;, &quot;type&quot;: &quot;safe&quot;, &quot;rt&quot;: &quot;#NewProductA&quot;, &quot;title&quot;: &quot;NewProductAへ遷移&quot;, &quot;tag&quot;: &quot;product&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;新規プロダクトAへアクセスする。&quot;}},

      {&quot;id&quot;: &quot;goNewProductABFF&quot;, &quot;type&quot;: &quot;safe&quot;, &quot;rt&quot;: &quot;#NewProductABFF&quot;, &quot;title&quot;: &quot;NewProductA BFFへ遷移&quot;, &quot;tag&quot;: &quot;product&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;NewProductAのBFFへアクセスする。&quot;}},

      {&quot;id&quot;: &quot;goNewProductAInternal&quot;, &quot;type&quot;: &quot;safe&quot;, &quot;rt&quot;: &quot;#NewProductAInternal&quot;, &quot;title&quot;: &quot;NewProductA Internalへ遷移&quot;, &quot;tag&quot;: &quot;product&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;NewProductAの内部APIへアクセスする。&quot;}},

      {&quot;id&quot;: &quot;goCentral&quot;, &quot;type&quot;: &quot;safe&quot;, &quot;rt&quot;: &quot;#Central&quot;, &quot;title&quot;: &quot;Centralへ遷移&quot;, &quot;tag&quot;: &quot;product&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;中央管理システムへアクセスする。&quot;}},

      {&quot;id&quot;: &quot;doLogin&quot;, &quot;type&quot;: &quot;unsafe&quot;, &quot;rt&quot;: &quot;#AuthenticationInProgress&quot;, &quot;title&quot;: &quot;ログイン実行&quot;, &quot;tag&quot;: &quot;auth flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;ユーザー名とパスワードを使用してログインを実行する。認証サーバーがクレデンシャルを検証する。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#username&quot;},
        {&quot;href&quot;: &quot;#password&quot;},
        {&quot;href&quot;: &quot;#sessionId&quot;}
      ]},

      {&quot;id&quot;: &quot;doGrantConsent&quot;, &quot;type&quot;: &quot;unsafe&quot;, &quot;rt&quot;: &quot;#AuthorizationCallback&quot;, &quot;title&quot;: &quot;同意を許可&quot;, &quot;tag&quot;: &quot;auth flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;アプリケーションへの権限付与に同意し、認可フローを続行する。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#clientId&quot;},
        {&quot;href&quot;: &quot;#scope&quot;}
      ]},

      {&quot;id&quot;: &quot;doDenyConsent&quot;, &quot;type&quot;: &quot;unsafe&quot;, &quot;rt&quot;: &quot;#ErrorState&quot;, &quot;title&quot;: &quot;同意を拒否&quot;, &quot;tag&quot;: &quot;auth flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;アプリケーションへの権限付与を拒否する。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#clientId&quot;}
      ]},

      {&quot;id&quot;: &quot;doExchangeToken&quot;, &quot;type&quot;: &quot;unsafe&quot;, &quot;rt&quot;: &quot;#TokenExchange&quot;, &quot;title&quot;: &quot;トークン交換実行&quot;, &quot;tag&quot;: &quot;flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;認可コードをアクセストークンとIDトークンに交換する。Ory/Hydraのトークンエンドポイントを呼び出す。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#authorizationCode&quot;},
        {&quot;href&quot;: &quot;#clientId&quot;},
        {&quot;href&quot;: &quot;#redirectUri&quot;}
      ]},

      {&quot;id&quot;: &quot;doRefreshToken&quot;, &quot;type&quot;: &quot;unsafe&quot;, &quot;rt&quot;: &quot;#AuthenticatedState&quot;, &quot;title&quot;: &quot;トークン更新&quot;, &quot;tag&quot;: &quot;flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;リフレッシュトークンを使用してアクセストークンを更新する。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#refreshToken&quot;},
        {&quot;href&quot;: &quot;#clientId&quot;}
      ]},

      {&quot;id&quot;: &quot;doLogout&quot;, &quot;type&quot;: &quot;idempotent&quot;, &quot;rt&quot;: &quot;#UnauthenticatedState&quot;, &quot;title&quot;: &quot;ログアウト&quot;, &quot;tag&quot;: &quot;auth flow-auth&quot;, &quot;doc&quot;: {&quot;value&quot;: &quot;現在の認証セッションを終了し、トークンを無効化する。&quot;}, &quot;descriptor&quot;: [
        {&quot;href&quot;: &quot;#sessionId&quot;},
        {&quot;href&quot;: &quot;#idToken&quot;}
      ]}
    ]
  }
}
</code></pre>

    </div>
</body>
</html>